{"version":3,"file":"argonCalendar.esm.js","sources":["../../src/Constants/index.js","../../src/Selector/index.js","../../src/Utils/index.js","../../src/Builder/index.js","../../src/Assign/index.js","../../src/index.js"],"sourcesContent":["// Selector\nexport const WRAP_ERROR = 'Cannot wrap \"undefined\" element';\n// Calendar\nexport const ACTIVE_CALENDAR_ERROR = 'There is an existing calendar on current element';\nexport const WRAPPING_ELEMENT_ERROR = 'Function \"calendarWrap\" must return a valid HTML';\nexport const ROOT_ELEMENT_ERROR = 'Function \"calendarRoot\" must return a valid root element HTML';\nexport const BODY_ROOT_ELEMENT_ERROR = 'Function \"calendarBodyRoot\" must return a valid body root element HTML to render calendar correctly';\nexport const DAY_ELEMENT_ERROR = 'Function \"dayElement\" must return a valid day element HTML';\nexport const MONTH_ELEMENT_ERROR = 'Function \"monthElement\" must return a valid month element HTML';\nexport const DATE_ELEMENT_ERROR = 'Function \"dateElement\" must return a valid date element HTML';\nexport const DAY_INDEX_ERROR = 'Please select a day between [0,6] where 0 = \"Sunday\" and 6 = \"Saturday\"';\nexport const RANGE_SELECTION_ERROR = 'To use this feature set \"rangeSelection\" to true';\nexport const DATE_SELECTION_ERROR = 'To use this feature set \"rangeSelection\" to false';\nexport const SWAP_WARNING = 'Swapping start date with end date as current end date is smaller than start date.';\n// Calendar HTML defaults\nexport const CALENDARWRAP_HTML = `<div class=\"calendar-wrap\"></div>`;\nexport const CALENDARROOT_HTML = `<div class=\"calendar-root\"></div>`;\nexport const CALENDARHEADER_HTML = `<div class=\"calendar-header\">\n    This is a placeholder header. Use \"calendarHeader()\" method to customise calendar header\n</div>`;\nexport const CALENDARBODYROOT_HTML = `<div class=\"calendar-body-root\"></div>`;\nexport const CALENDARFOOTER_HTML = `<div class=\"calendar-footer\">\n    This is a placeholder footer. Use \"calendarFooter()\" method to customise calendar footer\n</div>`;\nexport const DAYELEMENT_HTML = `<div class=\"calendar-day\">{{day}}</div>`;\nexport const DATEELEMENT_HTML = `<button type=\"button\" class=\"calendar-date\">{{date}}</button>`;\nexport const MONTHELEMENT_HTML = `<div class=\"calendar-month\">{{month}}</div>`;\nexport const YEARELEMENT_HTML = `<div class=\"calendar-year\">{{year}}</div>`;\nexport const DAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday'\n];\nexport const MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];","import { WRAP_ERROR } from '../Constants';\n\nexport function coerce(value) {\n    switch (value) {\n        case 'true': return true;\n        case 'false': return false;\n        case 'NaN': return NaN;\n        case 'null':\n        case 'NULL': return null;\n        case 'undefined': return undefined;\n        default:\n            if (!isNaN(value)) {\n                return +value;\n            }\n            return value;\n    }\n}\n\nexport function isValidSelector(selector) {\n    return (\n        typeof selector === 'string'\n        || selector instanceof Selector\n        || selector instanceof Node\n        || selector instanceof NodeList\n        || Array.isArray(selector)\n    );\n}\n\nexport function resolveData(data) {\n    if (data && typeof data === 'object') {\n        return JSON.stringify(data);\n    }\n    return data;\n}\n\nexport function restoreData(data) {\n    if (typeof data === 'string') {\n        try {\n            const parsedData = JSON.parse(data);\n            return parsedData;\n        } catch (e) {\n            /* Error in parsing JSON */\n        }\n    }\n    return data;\n}\n\nexport function hiphenate(str) {\n    let newStr = '';\n    if (typeof str === 'string') {\n        for (let i = 0; i < str.length; i++) {\n            if (str.charCodeAt(i) >= 65 && str.charCodeAt(i) <= 90) {\n                newStr += `-${str.charAt(i).toLowerCase()}`;\n            } else {\n                newStr += str.charAt(i);\n            }\n        }\n    }\n    return newStr;\n}\n\nclass Selector {\n    constructor(selectorRef, createMode) {\n        this.length = 0;\n        this.listeners = [];\n        if (isValidSelector(selectorRef)) {\n            if (typeof selectorRef === 'string') {\n                const isHTML = selectorRef.trim().charAt(0) === '<';\n                createMode = createMode || isHTML;\n                if (createMode) {\n                    // Create Mode\n                    if (isHTML) {\n                        const tempEl = document.createElement('div');\n                        tempEl.innerHTML = selectorRef;\n                        selectorRef = tempEl.childNodes;\n                    } else {\n                        const fragment = document.createDocumentFragment();\n                        fragment.appendChild(document.createTextNode(selectorRef));\n                        selectorRef = [fragment];\n                    }\n                } else {\n                    selectorRef = document.querySelectorAll(selectorRef);\n                }\n            }\n            if (selectorRef instanceof Node) {\n                selectorRef = [selectorRef];\n            }\n            for (let i = 0; i < selectorRef.length; i++) {\n                if ([1, 9, 11].indexOf(selectorRef[i].nodeType) > -1) {\n                    this[this.length++] = selectorRef[i];\n                }\n            }\n        }\n    }\n    html(text) {\n        if (typeof text === 'undefined') {\n            return this.map(ref => ref.innerHTML).join('');\n        }\n        if (text !== null) {\n            this.each(ref => {\n                ref.innerHTML = text.toString();\n            });\n        }\n        return this;\n    }\n    outerHtml() {\n        let htmlString = '';\n        this.each(el => {\n            htmlString += el.outerHTML + '\\n';\n        });\n        return htmlString;\n    }\n    append(text) {\n        this.each((ref, i) => {\n            const selectorRef = (new Selector(text, typeof text === 'string')).clone(i === 0);\n            selectorRef.each(el => {\n                ref.appendChild(el);\n            });\n        });\n        return this;\n    }\n    prepend(text) {\n        const innerElements = this.children().detach();\n        this.append(text).append(innerElements);\n    }\n    detach() {\n        const fragment = document.createDocumentFragment();\n        this.each(ref => {\n            fragment.appendChild(ref);\n        });\n        return new Selector([fragment]);\n    }\n    children() {\n        const allChildNodes = [];\n        this.each(ref => {\n            allChildNodes.push(...ref.childNodes);\n        });\n        return new Selector(allChildNodes);\n    }\n    filter(callback) {\n        const newSelectorRef = new Selector();\n        if (typeof callback === 'function') {\n            this.each((ref, i) => {\n                if (callback.apply(ref, [ref, i])) {\n                    newSelectorRef[newSelectorRef.length++] = ref;\n                }\n            });\n        }\n        return newSelectorRef;\n    }\n    clone(doNotClone) {\n        if (doNotClone) {\n            return this;\n        }\n        return new Selector(this.map(ref => ref.cloneNode(true)));\n    }\n    map(callback = ((el) => el)) {\n        const returnArr = [];\n        if (typeof callback === 'function') {\n            this.each((ref, i) => {\n                returnArr.push(callback.apply(ref, [ref, i]));\n            });\n        }\n        return returnArr;\n    }\n    each(callback) {\n        if (typeof callback === 'function') {\n            for (let i = 0; i < this.length; i++) {\n                callback.apply(this[i], [this[i], i]);\n            }\n        }\n        return this;\n    }\n    data(key, value) {\n        if (arguments.length === 1) {\n            if (typeof key === 'string') {\n                return coerce(this.attr(`data-${hiphenate(key)}`));\n            }\n            if (key && typeof key === 'object') {\n                const attrObject = {};\n                Object.keys(key).forEach(attr => {\n                    attrObject[`data-${hiphenate(attr)}`] = key[attr];\n                });\n                this.attr(attrObject);\n            }\n            return this;\n        }\n        if (arguments.length === 2) {\n            this.attr(`data-${hiphenate(key)}`, value);\n        }\n        return this;\n    }\n    attr(key, value) {\n        if (arguments.length === 1) {\n            if (typeof key === 'string') {\n                if (!this[0]) return;\n                return restoreData(this[0].getAttribute(key));\n            }\n            if (key && typeof key === 'object') {\n                Object.keys(key).forEach(attr => {\n                    this[0].setAttribute(hiphenate(attr), resolveData(key[attr]));\n                });\n            }\n            return this;\n        }\n        if (arguments.length === 2 && typeof key === 'string') {\n            this[0].setAttribute(hiphenate(key), resolveData(value));\n        }\n        return this;\n    }\n    removeAttr(key) {\n        this.each(el => {\n            el.removeAttribute(key);\n        });\n        return this;\n    }\n    add(selector) {\n        const selectorRef = new Selector(selector);\n        selectorRef.each(ref => {\n            if (!this.filter(fRef => fRef === ref).length) {\n                this[this.length++] = ref;\n            }\n        });\n        return this;\n    }\n    empty() {\n        return this.html('');\n    }\n    wrap(containerHtml) {\n        if (!this.length) {\n            throw new TypeError(WRAP_ERROR);\n        }\n        const container = new WrapSelector(containerHtml);\n        const thisParent = new Selector(this[0].parentNode);\n        thisParent.prepend(container);\n        container.append(this);\n        return container;\n    }\n    addClass(classString) {\n        if (typeof classString === 'string') {\n            this.each(el => {\n                el.classList.add(...classString.split(' ').filter(str => str.trim()));\n            });\n        }\n        return this;\n    }\n    removeClass(classString) {\n        if (typeof classString === 'string') {\n            this.each(el => {\n                el.classList.remove(...classString.split(' ').filter(str => str.trim()));\n            });\n        }\n        return this;\n    }\n    hasClass(classString) {\n        if (this.length && typeof classString === 'string') {\n            return this[0].classList.contains(classString);\n        }\n        return false;\n    }\n    first() {\n        return new Selector(this[0]);\n    }\n    remove() {\n        this.each(el => {\n            el.parentNode.removeChild(el);\n        });\n    }\n    after(selectorRef) {\n        const next = this.next().first();\n        if (next.length) {\n            next.before(selectorRef);\n        } else {\n            this.append(selectorRef);\n        }\n        return this;\n    }\n    before(selectorRef) {\n        if (this.length) {\n            (new Selector(selectorRef)).each(el => {\n                this[0].parentNode.insertBefore(el, this[0]);\n            });\n        }\n        return this;\n    }\n    next() {\n        const newSelectorRef = new Selector();\n        this.each(el => {\n            if (el.nextSibling) {\n                newSelectorRef.add(el.nextSibling);\n            }\n        });\n        return newSelectorRef;\n    }\n    on(eventType, delegateSelector, callback, useCapture) {\n        if (typeof delegateSelector === 'function') {\n            useCapture = callback;\n            callback = delegateSelector;\n            delegateSelector = undefined;\n        }\n        this.each(el => {\n            const listener = (e) => {\n                if (delegateSelector) {\n                    const children = (new Selector(delegateSelector)).map();\n                    let selected = null;\n                    for (const node of children) {\n                        if (e.target.contains(node)) {\n                            selected = node;\n                            break;\n                        }\n                    }\n                    if (selected && typeof callback === 'function') {\n                        callback.apply(selected, [e]);\n                    }\n                } else if (typeof callback === 'function') {\n                    callback.apply(el, [e]);\n                }\n            };\n            this.listeners.push({ el, eventType, listener, useCapture });\n            el.addEventListener(eventType, listener, useCapture);\n        });\n        return this;\n    }\n    off() {\n        while (this.listeners.length > 0) {\n            const { el, eventType, listener, useCapture } = this.listeners.pop();\n            el.removeEventListener(eventType, listener, useCapture);\n        }\n    }\n}\n\nclass WrapSelector extends Selector {\n    constructor(...args) {\n        super(...args);\n    }\n    unwrap() {\n        const ref = (new Selector(this[0])).after(this.children());\n        this.remove();\n        return ref;\n    }\n}\n\nexport function $(...args) {\n    return new Selector(...args);\n}","export function repl(str, keyMap) {\n    Object.keys(keyMap).forEach(key => {\n        const value = keyMap[key];\n        if (typeof str === 'string') {\n            str = str.replace((new RegExp(`{{${key}}}`, 'g')), value);\n        }\n    });\n    return str;\n}\n\nexport function daysInMonth(monthNumber, year) {\n    const dateObject = new Date();\n    dateObject.setFullYear(year);\n    dateObject.setMonth(monthNumber);\n    dateObject.setDate(31);\n    if (dateObject.getDate() === 31) {\n        return 31;\n    } else {\n        dateObject.setDate(31 - dateObject.getDate());\n        return dateObject.getDate();\n    }\n}","import {\n    CALENDARWRAP_HTML,\n    CALENDARROOT_HTML,\n    CALENDARHEADER_HTML,\n    CALENDARBODYROOT_HTML,\n    CALENDARFOOTER_HTML,\n    DAYELEMENT_HTML,\n    MONTHELEMENT_HTML,\n    DATEELEMENT_HTML\n} from '../Constants';\nimport { repl } from '../Utils';\nimport { $ } from '../Selector';\n\nexport function exact(currentDate, referenceDate) {\n    return (\n        currentDate.getDate() === referenceDate.getDate()\n        && currentDate.getMonth() === referenceDate.getMonth()\n        && currentDate.getYear() === referenceDate.getYear()\n    );\n}\n\nfunction inRange(currentDate, startDate, endDate) {\n    const currentTime = currentDate.getTime();\n    return currentTime > startDate.getTime() && currentTime < endDate.getTime();\n}\n\nexport function calendarWrap() {\n    return CALENDARWRAP_HTML;\n}\n\nexport function calendarRoot() {\n    return CALENDARROOT_HTML;\n}\n\nexport function calendarHeader() {\n    return CALENDARHEADER_HTML;\n}\n\nexport function calendarBodyRoot() {\n    return CALENDARBODYROOT_HTML;\n}\n\nexport function calendarFooter() {\n    return CALENDARFOOTER_HTML;\n}\n\nexport function dayElement(day) {\n    return repl(DAYELEMENT_HTML, { day });\n}\n\nexport function monthElement(month) {\n    return repl(MONTHELEMENT_HTML, { month });\n}\n\nexport function dateElement(date, current) {\n    const dateEl = $(repl(DATEELEMENT_HTML, { date }));\n    dateEl.attr('data-timestamp', current.getTime());\n    if (exact(this.today, current)) {\n        dateEl.addClass('is-today');\n    }\n    if (this.config.rangeSelection) {\n        if (this.startSelectionDate && exact(this.startSelectionDate, current)) {\n            dateEl.addClass('is-start-date is-in-range');\n        }\n        if (this.endSelectionDate && exact(this.endSelectionDate, current)) {\n            dateEl.addClass('is-end-date is-in-range');\n        }\n        if (\n            this.startSelectionDate\n            && this.endSelectionDate\n            && inRange(current, this.startSelectionDate, this.endSelectionDate)\n        ) {\n            dateEl.addClass('is-in-range');\n        }\n    } else if (this.currentDate && exact(this.currentDate, current)) {\n        dateEl.addClass('is-current-date');\n    }\n    return dateEl.outerHtml();\n}","\n/**\n * Returns true if argument is object\n * @param {*} arg Argument\n */\nfunction isObject(arg) {\n    return arg && typeof arg === 'object';\n}\n\n/**\n * Inner loop function for assign\n * @private\n * @param {object} ref Argument object\n * @param {object} target First object\n */\nfunction loopFunc(ref, target) {\n    if (isObject(ref)) {\n        Object.keys(ref).forEach(function (key) {\n            target[key] = ref[key];\n        });\n    }\n}\n\n/**\n * Polyfill for Object.assign only smaller and with less features\n * @private\n * @returns {object}\n */\nexport function assign() {\n    const target = isObject(arguments[0]) ? arguments[0] : {};\n    for (let i = 1; i < arguments.length; i++) {\n        loopFunc(arguments[i], target);\n    }\n    return target;\n}","import { $ } from './Selector';\nimport {\n    WRAPPING_ELEMENT_ERROR,\n    ROOT_ELEMENT_ERROR,\n    BODY_ROOT_ELEMENT_ERROR,\n    DAYS,\n    MONTHS,\n    ACTIVE_CALENDAR_ERROR,\n    DAY_ELEMENT_ERROR,\n    MONTH_ELEMENT_ERROR,\n    DATE_ELEMENT_ERROR,\n    DAY_INDEX_ERROR,\n    RANGE_SELECTION_ERROR,\n    DATE_SELECTION_ERROR,\n    SWAP_WARNING\n} from './Constants';\nimport {\n    calendarWrap,\n    calendarRoot,\n    calendarHeader,\n    calendarBodyRoot,\n    calendarFooter,\n    dayElement,\n    monthElement,\n    dateElement,\n    exact\n} from './Builder';\nimport { daysInMonth } from './Utils';\nimport { assign } from './Assign';\n\nexport default class ArgonCalendar {\n    constructor(config = {}) {\n        this.config = Object.freeze(assign({\n            target: document.body,\n            weekStartsFrom: 0,\n            numberOfCalendars: 1,\n            rangeSelection: false,\n            defaultEvents: true,\n            calendarWrap,\n            calendarRoot,\n            calendarHeader,\n            calendarBodyRoot,\n            calendarFooter,\n            dayElement,\n            monthElement,\n            dateElement\n        }, config));\n        if (this.config.weekStartsFrom >= 7 || this.config.weekStartsFrom < 0) {\n            throw new Error(DAY_INDEX_ERROR);\n        }\n        this.daysTransformed = DAYS.slice(this.config.weekStartsFrom).concat(DAYS.slice(0, this.config.weekStartsFrom));\n        this.monthsTransformed = MONTHS;\n        this.today = new Date();\n        this._drawCalendar();\n        if (this.config.defaultEvents) {\n            this.boundingElement = $(this.config.target);\n            this.boundingElement.on('mousedown', '.calendar-date', (e) => {\n                const timestamp = $(e.target).data('timestamp');\n                const { onSelectionStart, onSelectionEnd } = this.config;\n                if (this.config.rangeSelection) {\n                    if (!this.selectionStarted) {\n                        this.selectionStarted = true;\n                        const startDate = new Date(timestamp);\n                        this.setStartDate(startDate)\n                            .jumpTo(startDate);\n                        if (typeof onSelectionStart === 'function') {\n                            onSelectionStart.apply(this);\n                        }\n                    } else {\n                        const endDate = new Date(timestamp);\n                        this.setEndDate(endDate)\n                            .jumpTo(endDate);\n                        delete this.selectionStarted;\n                    }\n                } else {\n                    const date = new Date(timestamp);\n                    this.setDate(date);\n                }\n                if (typeof onSelectionEnd === 'function') {\n                    onSelectionEnd.apply(this);\n                }\n            });\n        }\n    }\n    _drawCalendar() {\n        const config = this.config;\n        this.currentTarget = $(config.target).first();\n        if (this.currentTarget.data('calendarActive')) {\n            throw new Error(ACTIVE_CALENDAR_ERROR);\n        }\n        this.calTarget = this.currentTarget;\n        this.currentTarget.data('calendarActive', true);\n        const isCurrentTargetInput = this.currentTarget[0].nodeName === 'INPUT';\n        const wrapCurrentTarget = this.config.wrapTarget || isCurrentTargetInput;\n        if (wrapCurrentTarget) {\n            try {\n                this.calTarget = this.currentTarget.wrap(config.calendarWrap()).addClass('calendar-wrap');\n                this.currentTarget.addClass(isCurrentTargetInput ? 'calendar-input' : 'calendar-wrapped');\n                if (this.calTarget.length === 0) {\n                    throw new Error(WRAPPING_ELEMENT_ERROR);\n                }\n            } catch (e) {\n                throw new Error(e.message);\n            }\n        }\n        this.calRoot = $(config.calendarRoot());\n        if (this.calRoot.length) {\n            this.calTarget.append(this.calRoot.addClass('calendar-root'));\n            if (config.showHeader) {\n                this.calRoot.append($(config.calendarHeader()).addClass('calendar-header'));\n            }\n            this.calBody = $(config.calendarBodyRoot()).addClass('calendar-body-root');\n            if (this.calBody.length === 0) {\n                throw new Error(BODY_ROOT_ELEMENT_ERROR);\n            }\n            this.calRoot.append(this.calBody);\n            if (config.showFooter) {\n                this.calRoot.append($(config.calendarFooter()).addClass('calendar-footer'));\n            }\n            this._drawMonths();\n        } else {\n            throw new Error(ROOT_ELEMENT_ERROR);\n        }\n    }\n    _drawMonths(dateRef) {\n        this.calBody.empty();\n        const current = dateRef || (new Date());\n        current.setDate(1);\n        this.startMonthDate = current;\n        let index = 0;\n        while (index < this.config.numberOfCalendars) {\n            const calMonth = $('<div class=\"calendar-month-wrap\"></div>');\n            try {\n                calMonth.append(this.config.monthElement(this.monthsTransformed[current.getMonth()], current));\n            } catch (e) {\n                throw new Error(MONTH_ELEMENT_ERROR);\n            }\n            try {\n                calMonth.append(`<div class=\"calendar-days-wrap\">${this.daysTransformed.map(this.config.dayElement).join('')}</div>`);\n            } catch (e) {\n                throw new Error(DAY_ELEMENT_ERROR);\n            }\n            const calDatesWrap = $('<div class=\"calendar-dates-wrap\"></div>');\n            calMonth.append(calDatesWrap);\n            this.calBody.append(calMonth);\n            this._drawDates(calDatesWrap, current);\n            index += 1;\n            current.setDate(1);\n            current.setMonth(current.getMonth() + 1);\n        }\n    }\n    _drawDates(calDatesWrap, current) { // eslint-disable-line\n        const totalDays = daysInMonth(current.getMonth(), current.getFullYear());\n        let startPadding = current.getDay() - DAYS.indexOf(this.daysTransformed[0]);\n        if (startPadding < 0) {\n            startPadding = 7 - Math.abs(startPadding);\n        }\n        try {\n            for (let i = 0; i < startPadding; i++) {\n                const targetDate = current.getDate() - startPadding + i;\n                const prevDate = new Date(current.getFullYear(), current.getMonth(), targetDate);\n                calDatesWrap.append($(this.config.dateElement.apply(this, [prevDate.getDate(), prevDate])).addClass('calendar-date-prev'));\n            }\n            for (let i = 1; i <= totalDays; i++) {\n                current.setDate(i);\n                calDatesWrap.append(this.config.dateElement.apply(this, [i, current]));\n            }\n            let endPadding = DAYS.indexOf(this.daysTransformed[6]) - current.getDay();\n            if (endPadding < 0) {\n                endPadding = 7 - Math.abs(endPadding);\n            }\n            for (let i = 0; i < endPadding; i++) {\n                const targetDate = current.getDate() + i + 1;\n                const nextDate = new Date(current.getFullYear(), current.getMonth(), targetDate);\n                calDatesWrap.append($(this.config.dateElement.apply(this, [nextDate.getDate(), nextDate])).addClass('calendar-date-next'));\n            }\n        } catch (e) {\n            throw new Error(DATE_ELEMENT_ERROR);\n        }\n    }\n    // Public methods\n    destroy() {\n        if (this.config.defaultEvents) {\n            this.boundingElement.off();\n        }\n        this.currentTarget.removeClass('calendar-input calendar-wrapped').removeAttr('data-calendar-active');\n        if (this.calTarget.unwrap) {\n            this.calTarget.unwrap();\n        }\n        this.calRoot.remove();\n        return this;\n    }\n    next(skip = 1) {\n        const numberOfCalendars = +this.config.numberOfCalendars;\n        this.startMonthDate.setMonth(this.startMonthDate.getMonth() - numberOfCalendars + skip);\n        this._drawMonths(this.startMonthDate);\n        return this;\n    }\n    prev(skip = 1) {\n        const numberOfCalendars = +this.config.numberOfCalendars;\n        this.startMonthDate.setMonth(this.startMonthDate.getMonth() - numberOfCalendars - skip);\n        this._drawMonths(this.startMonthDate);\n        return this;\n    }\n    setDate(date) {\n        if (!this.config.rangeSelection) {\n            this.currentDate = date instanceof Date ? date : new Date(...arguments);\n            this._drawMonths(new Date(this.currentDate.valueOf()));\n        } else {\n            throw new Error(DATE_SELECTION_ERROR);\n        }\n        return this;\n    }\n    getDate() {\n        if (this.config.rangeSelection) {\n            throw new Error(DATE_SELECTION_ERROR);\n        }\n        return new Date((this.currentDate || this.today).valueOf());\n    }\n    getToday() {\n        return new Date(this.today.valueOf());\n    }\n    setStartDate(date) {\n        if (this.config.rangeSelection) {\n            this.startSelectionDate = date instanceof Date\n                ? new Date(date.valueOf())\n                : new Date(...arguments);\n            this.endSelectionDate = new Date(this.startSelectionDate.valueOf());\n        } else {\n            throw new Error(RANGE_SELECTION_ERROR);\n        }\n        return this;\n    }\n    setEndDate(date) {\n        if (this.config.rangeSelection) {\n            this.endSelectionDate = date instanceof Date\n                ? new Date(date.valueOf())\n                : new Date(...arguments);\n            if (!this.startSelectionDate) {\n                this.startSelectionDate = new Date(this.endSelectionDate.valueOf());\n            }\n            if (\n                this.startSelectionDate\n                && this.endSelectionDate.getTime() < this.startSelectionDate.getTime()\n            ) {\n                console.warn(SWAP_WARNING);\n                const endDate = new Date(this.startSelectionDate.valueOf());\n                this.startSelectionDate = this.endSelectionDate;\n                this.endSelectionDate = endDate;\n            }\n        } else {\n            throw new Error(RANGE_SELECTION_ERROR);\n        }\n        return this;\n    }\n    getStartDate() {\n        if (!this.config.rangeSelection) {\n            throw new Error(RANGE_SELECTION_ERROR);\n        }\n        return new Date((this.startSelectionDate || this.today).valueOf());\n    }\n    getEndDate() {\n        if (!this.config.rangeSelection) {\n            throw new Error(RANGE_SELECTION_ERROR);\n        }\n        return new Date((this.endSelectionDate || this.today).valueOf());\n    }\n    jumpTo(date) {\n        this._drawMonths((\n            date instanceof Date\n                ? new Date(date.valueOf())\n                : new Date(...arguments)\n        ));\n        return this;\n    }\n    isMatch() {\n        return exact.apply(this, arguments);\n    }\n}"],"names":["WRAP_ERROR","ACTIVE_CALENDAR_ERROR","WRAPPING_ELEMENT_ERROR","ROOT_ELEMENT_ERROR","BODY_ROOT_ELEMENT_ERROR","DAY_ELEMENT_ERROR","MONTH_ELEMENT_ERROR","DATE_ELEMENT_ERROR","DAY_INDEX_ERROR","RANGE_SELECTION_ERROR","DATE_SELECTION_ERROR","SWAP_WARNING","CALENDARWRAP_HTML","CALENDARROOT_HTML","CALENDARHEADER_HTML","CALENDARBODYROOT_HTML","CALENDARFOOTER_HTML","DAYELEMENT_HTML","DATEELEMENT_HTML","MONTHELEMENT_HTML","DAYS","MONTHS","coerce","value","NaN","undefined","isNaN","isValidSelector","selector","Selector","Node","NodeList","Array","isArray","resolveData","data","JSON","stringify","restoreData","parsedData","parse","e","hiphenate","str","newStr","i","length","charCodeAt","charAt","toLowerCase","selectorRef","createMode","listeners","isHTML","trim","tempEl","document","createElement","innerHTML","childNodes","fragment","createDocumentFragment","appendChild","createTextNode","querySelectorAll","indexOf","nodeType","text","map","ref","join","each","toString","htmlString","el","outerHTML","clone","innerElements","children","detach","append","allChildNodes","push","callback","newSelectorRef","apply","doNotClone","cloneNode","returnArr","key","arguments","attr","attrObject","Object","keys","forEach","getAttribute","setAttribute","removeAttribute","filter","fRef","html","containerHtml","TypeError","container","WrapSelector","thisParent","parentNode","prepend","classString","classList","add","split","remove","contains","removeChild","next","first","before","insertBefore","nextSibling","eventType","delegateSelector","useCapture","listener","selected","node","target","addEventListener","pop","removeEventListener","args","after","$","repl","keyMap","replace","RegExp","daysInMonth","monthNumber","year","dateObject","Date","setFullYear","setMonth","setDate","getDate","exact","currentDate","referenceDate","getMonth","getYear","inRange","startDate","endDate","currentTime","getTime","calendarWrap","calendarRoot","calendarHeader","calendarBodyRoot","calendarFooter","dayElement","day","monthElement","month","dateElement","date","current","dateEl","today","addClass","config","rangeSelection","startSelectionDate","endSelectionDate","outerHtml","isObject","arg","loopFunc","assign","ArgonCalendar","freeze","body","weekStartsFrom","numberOfCalendars","defaultEvents","Error","daysTransformed","slice","concat","monthsTransformed","_drawCalendar","boundingElement","on","timestamp","onSelectionStart","onSelectionEnd","selectionStarted","setStartDate","jumpTo","setEndDate","currentTarget","calTarget","isCurrentTargetInput","nodeName","wrapCurrentTarget","wrapTarget","wrap","message","calRoot","showHeader","calBody","showFooter","_drawMonths","dateRef","empty","startMonthDate","index","calMonth","calDatesWrap","_drawDates","totalDays","getFullYear","startPadding","getDay","Math","abs","targetDate","prevDate","endPadding","nextDate","off","removeClass","removeAttr","unwrap","skip","valueOf","console","warn"],"mappings":"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"}